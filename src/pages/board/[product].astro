---
import Layout from "../../layouts/Layout.astro";
import { getAllBoardsData, type BoardData } from "../../lib/data";
import {
  Card,
  CardHeader,
  CardTitle,
  CardContent,
} from "../../components/ui/card";

// Generate static paths for all boards
export async function getStaticPaths() {
  const boardsData = await getAllBoardsData();

  return boardsData.map((board) => ({
    params: { product: board.product },
    props: { board },
  }));
}

// Get the board data from props
interface Props {
  board: BoardData;
}

const { board } = Astro.props;
---

<Layout title={board.product}>
  <div class="max-w-3xl mx-auto">
    <a href="/" class="text-primary hover:underline mb-6 inline-block"
      >‚Üê Back to All Boards</a
    >

    <Card className="mb-8">
      <CardHeader>
        <CardTitle class="text-2xl">{board.product}</CardTitle>
      </CardHeader>
      <CardContent>
        <div class="space-y-4">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <h3 class="text-sm font-medium text-muted-foreground">CPU</h3>
              <p class="text-lg">{board.cpu}</p>
            </div>
            <div>
              <h3 class="text-sm font-medium text-muted-foreground">
                CPU Core
              </h3>
              <p class="text-lg">{board.cpu_core}</p>
            </div>
          </div>
        </div>
      </CardContent>
    </Card>

    <div class="mt-8">
      <h2 class="text-xl font-semibold mb-4">Additional Information</h2>
      <p class="text-muted-foreground">
        This information was fetched from the
        <a
          href={`https://github.com/ruyisdk/support-matrix/blob/main/${board.product}/README.md`}
          target="_blank"
          rel="noopener noreferrer"
          class="text-primary hover:underline"
        >
          RuyiSDK Support Matrix Repository
        </a>.
      </p>
    </div>
  </div>
</Layout>
